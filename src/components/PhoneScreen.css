.phone-frame {
  width: 100vw;
  height: 100vh;
  position: fixed;
  top: 0;
  left: 0;
  background: #000;
  overflow: hidden;
}

.phone-screen {
  width: 100%;
  height: 100%;
  background: 
    linear-gradient(180deg, #1a1a1a 0%, #000 100%),
    linear-gradient(135deg, #2d3748 0%, #1a202c 50%, #0f1419 100%);
  position: relative;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  /* Modern iPhone-like dark background with subtle gradients */
  background-blend-mode: overlay;
}

/* Barre de statut moderne */
.status-bar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: env(safe-area-inset-top, 12px) 24px 8px;
  color: white;
  font-size: 17px;
  font-weight: 600;
  z-index: 100;
  background: rgba(0, 0, 0, 0.1);
  backdrop-filter: blur(20px);
  border-bottom: 0.5px solid rgba(255, 255, 255, 0.05);
  min-height: 44px;
}

.status-left .time {
  font-weight: 600;
}

.status-right {
  display: flex;
  align-items: center;
  gap: 4px;
}

.battery-container {
  display: flex;
  align-items: center;
  gap: 6px;
}

.signal-bars {
  display: flex;
  gap: 2px;
  align-items: flex-end;
}

.signal-bars .bar {
  width: 3px;
  background: white;
  border-radius: 1px;
}

.signal-bars .bar:nth-child(1) { height: 4px; }
.signal-bars .bar:nth-child(2) { height: 6px; }
.signal-bars .bar:nth-child(3) { height: 8px; }
.signal-bars .bar:nth-child(4) { height: 10px; }

.wifi-icon, .battery-icon {
  font-size: 16px;
}

/* Active bar for network signal */
.signal-bars .bar.active {
  background: #FFFFFF;
  box-shadow: 0 1px 2px rgba(0,0,0,0.4);
}

.signal-bars .bar:not(.active) {
  background: rgba(255,255,255,0.2);
}

.network-text {
  font-size: 12px;
  color: rgba(255,255,255,0.9);
  font-weight: 600;
  margin-left: 6px;
  text-transform: uppercase;
}

.battery-text {
  font-size: 12px;
  color: rgba(255,255,255,0.95);
  font-weight: 600;
  margin-left: 6px;
}

/* SVG-specific styles and transitions */
.signal-svg svg,
.battery-icon svg,
.charging-icon svg {
  display: inline-block;
  vertical-align: middle;
  color: white;
  transition: transform 200ms ease, opacity 200ms ease, color 200ms ease;
}

.signal-svg svg[opacity="0.25"] {
  opacity: 0.25;
}

.battery-text .charging-icon svg {
  margin-left: 6px;
  width: 12px;
  height: 16px;
  color: #FFD60A; /* charging colour */
}

/* iOS Safari fallback: if prefers-reduced-motion or not supporting SVG colors, keep simple */
@supports (-webkit-overflow-scrolling: touch) {
  .signal-svg svg,
  .battery-icon svg {
    transform: none;
  }
}

/* iOS Safari fallbacks: show subtle dashed outline when APIs not available */
.battery-text.ios-fallback {
  opacity: 0.95;
  color: rgba(255,255,255,0.85);
  border-bottom: 1px dashed rgba(255,255,255,0.12);
}

.battery-icon.ios-fallback svg {
  opacity: 0.9;
}

/* Indicateur de home moderne */
.home-indicator {
  position: absolute;
  bottom: env(safe-area-inset-bottom, 8px);
  left: 50%;
  transform: translateX(-50%);
  width: 134px;
  height: 5px;
  background: rgba(255, 255, 255, 0.8);
  border-radius: 3px;
  transition: all 0.2s ease;
}

.home-indicator:hover {
  background: rgba(255, 255, 255, 0.9);
  width: 140px;
}

/* ===== DETECTION MODELES SPECIFIQUES ===== */

/* iPhone 14 Pro / 15 Pro - Dynamic Island */
@media (device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) {
  .status-bar {
    padding-top: 20px;
    background: linear-gradient(to bottom, rgba(0,0,0,0.3) 0%, transparent 100%);
  }
  
  .status-bar::before {
    content: '';
    position: absolute;
    top: 8px;
    left: 50%;
    transform: translateX(-50%);
    width: 126px;
    height: 37px;
    background: #000;
    border-radius: 19px;
    z-index: -1;
  }
}

/* iPhone 14 / 15 Standard - Notch */
@media (device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) {
  .status-bar {
    padding-top: 18px;
  }
  
  .status-bar::before {
    content: '';
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 164px;
    height: 32px;
    background: #000;
    border-radius: 0 0 18px 18px;
    z-index: -1;
  }
}

/* iPhone 13 Pro / 14 Pro */
@media (device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) {
  .status-bar {
    padding-top: 18px;
  }
}

/* iPhone SE 3rd gen */
@media (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) {
  .status-bar {
    padding: 12px 20px 8px;
    background: rgba(0,0,0,0.2);
  }
  
  .home-indicator {
    display: none;
  }
}

/* Samsung Galaxy S23/S24 */
@media (device-width: 360px) and (device-height: 780px) and (-webkit-device-pixel-ratio: 3) {
  .status-bar {
    padding-top: 16px;
  }
  
  .home-indicator {
    width: 120px;
    height: 4px;
    background: rgba(255, 255, 255, 0.7);
  }
}

/* Google Pixel 7/8 */
@media (device-width: 412px) and (device-height: 915px) and (-webkit-device-pixel-ratio: 2.625) {
  .status-bar {
    padding: 16px 24px 8px;
  }
  
  .home-indicator {
    width: 110px;
    height: 3px;
  }
}

/* ===== RESPONSIVE PAR TAILLE ===== */

/* Très petit écran (iPhone SE, phones Android compacts) */
@media (max-width: 375px) and (max-height: 667px) {
  .status-bar {
    padding: 10px 16px 6px;
    font-size: 15px;
  }
  
  .battery-text,
  .network-text {
    font-size: 11px;
  }
  
  .phone-screen {
    background: linear-gradient(135deg, #2d3748 0%, #1a202c 100%);
  }
}

/* Ecrans moyens (iPhone 12/13/14 standard) */
@media (min-width: 376px) and (max-width: 414px) {
  .status-bar {
    padding: 14px 22px 8px;
    font-size: 16px;
  }
}

/* Grands écrans (Plus, Max, tablets en portrait) */
@media (min-width: 415px) and (orientation: portrait) {
  .status-bar {
    padding: 16px 28px 10px;
    font-size: 18px;
  }
  
  .battery-text,
  .network-text {
    font-size: 13px;
  }
}

/* ===== ORIENTATION LANDSCAPE ===== */
@media (orientation: landscape) {
  .status-bar {
    padding: 8px 20px 4px;
    font-size: 15px;
    min-height: 36px;
  }
  
  .home-indicator {
    display: none;
  }
  
  .phone-screen {
    background: linear-gradient(90deg, #2d3748 0%, #1a202c 50%, #0f1419 100%);
  }
}

/* ===== TABLET / DESKTOP ===== */
@media (min-width: 768px) {
  .status-bar {
    padding: 12px 32px 8px;
    font-size: 17px;
  }
  
  .phone-screen {
    background: radial-gradient(circle at center, #2d3748 0%, #1a202c 50%, #0f1419 100%);
  }
}

/* ===== DENSITE DE PIXELS ===== */
@media (-webkit-min-device-pixel-ratio: 3) {
  .status-bar {
    border-bottom-width: 0.33px;
  }
  
  .home-indicator {
    height: 4px;
  }
}

/* ===== STYLES SPECIFIQUES PAR MODELE ===== */

/* Dynamic Island */
.has-dynamic-island .status-bar {
  padding-top: var(--safe-area-top, 54px);
}

.has-dynamic-island .status-bar::before {
  content: '';
  position: absolute;
  top: 12px;
  left: 50%;
  transform: translateX(-50%);
  width: 126px;
  height: 37px;
  background: #000;
  border-radius: 19px;
  z-index: -1;
  box-shadow: inset 0 1px 2px rgba(255, 255, 255, 0.1);
}

/* Notch */
.has-notch .status-bar {
  padding-top: var(--safe-area-top, 47px);
}

.has-notch .status-bar::before {
  content: '';
  position: absolute;
  top: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 164px;
  height: 32px;
  background: #000;
  border-radius: 0 0 18px 18px;
  z-index: -1;
}

/* Device-specific adjustments */
.device-android .status-bar {
  background: rgba(0, 0, 0, 0.2);
  backdrop-filter: blur(25px);
}

.device-android .home-indicator {
  width: 120px;
  height: 4px;
  background: rgba(255, 255, 255, 0.7);
}

/* ===== ANIMATIONS D'ORIENTATION ===== */
.orientation-changing * {
  transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

.orientation-changing .phone-screen {
  transform: scale(0.98);
  filter: blur(1px);
}

.orientation-changing .status-bar {
  opacity: 0.8;
}

.orientation-changing .apps-grid {
  transform: scale(0.95);
  opacity: 0.7;
}

.orientation-changing .dock {
  transform: translateX(-50%) translateY(10px) scale(0.9);
  opacity: 0.6;
}

/* Animation de transition fluide */
@media (prefers-reduced-motion: no-preference) {
  .phone-screen,
  .status-bar,
  .home-indicator {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
}

/* Adaptation en temps réel selon les safe areas */
.status-bar {
  padding-top: var(--safe-area-top, 12px);
}

.home-indicator {
  bottom: var(--safe-area-bottom, 8px);
}